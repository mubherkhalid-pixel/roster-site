<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>My Schedule - Duty Roster</title>
  
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 20px;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
    }
    
    /* Header */
    .header {
      background: white;
      border-radius: 20px 20px 0 0;
      padding: 30px;
      text-align: center;
      box-shadow: 0 4px 20px rgba(0,0,0,0.1);
    }
    
    .header h1 {
      color: #1e293b;
      font-size: 32px;
      margin-bottom: 10px;
    }
    
    .header p {
      color: #64748b;
      font-size: 16px;
    }
    
    /* Search Box */
    .search-box {
      background: white;
      padding: 25px 30px;
      border-bottom: 1px solid #e5e7eb;
    }
    
    .search-form {
      display: flex;
      gap: 15px;
      max-width: 600px;
      margin: 0 auto;
    }
    
    .search-input {
      flex: 1;
      padding: 15px 20px;
      border: 2px solid #e5e7eb;
      border-radius: 12px;
      font-size: 16px;
      transition: all 0.3s;
      direction: ltr;
      text-align: left;
    }
    
    .search-input:focus {
      outline: none;
      border-color: #667eea;
      box-shadow: 0 0 0 4px rgba(102,126,234,0.1);
    }
    
    .search-btn {
      padding: 15px 40px;
      background: linear-gradient(135deg, #667eea, #764ba2);
      color: white;
      border: none;
      border-radius: 12px;
      font-size: 16px;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s;
    }
    
    .search-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(102,126,234,0.3);
    }
    
    /* Tabs */
    .tabs {
      background: white;
      padding: 0 30px;
      display: flex;
      gap: 10px;
      border-bottom: 2px solid #e5e7eb;
    }
    
    .tab {
      padding: 15px 25px;
      background: none;
      border: none;
      color: #64748b;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      border-bottom: 3px solid transparent;
      transition: all 0.3s;
      position: relative;
      top: 2px;
    }
    
    .tab.active {
      color: #667eea;
      border-bottom-color: #667eea;
    }
    
    .tab:hover:not(.active) {
      color: #1e293b;
    }
    
    /* Content Area */
    .content {
      background: white;
      padding: 30px;
      border-radius: 0 0 20px 20px;
      min-height: 400px;
    }
    
    .loading {
      text-align: center;
      padding: 60px 20px;
      color: #64748b;
    }
    
    .loading-spinner {
      width: 50px;
      height: 50px;
      border: 4px solid #e5e7eb;
      border-top-color: #667eea;
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin: 0 auto 20px;
    }
    
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    
    .empty-state {
      text-align: center;
      padding: 60px 20px;
    }
    
    .empty-state-icon {
      font-size: 64px;
      margin-bottom: 20px;
    }
    
    .empty-state h3 {
      color: #1e293b;
      font-size: 24px;
      margin-bottom: 10px;
    }
    
    .empty-state p {
      color: #64748b;
      font-size: 16px;
    }
    
    /* Employee Info */
    .employee-info {
      background: linear-gradient(135deg, #667eea, #764ba2);
      color: white;
      padding: 20px;
      border-radius: 12px;
      margin-bottom: 25px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .employee-details h2 {
      font-size: 24px;
      margin-bottom: 5px;
    }
    
    .employee-details p {
      opacity: 0.9;
      font-size: 14px;
    }
    
    .month-nav {
      display: flex;
      gap: 15px;
      align-items: center;
    }
    
    .month-nav button {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: rgba(255,255,255,0.2);
      border: 1px solid rgba(255,255,255,0.3);
      color: white;
      font-size: 18px;
      cursor: pointer;
      transition: all 0.3s;
    }
    
    .month-nav button:hover {
      background: rgba(255,255,255,0.3);
    }
    
    .month-nav span {
      font-size: 18px;
      font-weight: 700;
      min-width: 150px;
      text-align: center;
    }
    
    /* Calendar */
    .calendar {
      background: white;
      border-radius: 12px;
      overflow: hidden;
      border: 1px solid #e5e7eb;
    }
    
    .calendar-header {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      background: #f8fafc;
      border-bottom: 2px solid #e5e7eb;
    }
    
    .calendar-header div {
      padding: 15px;
      text-align: center;
      font-weight: 700;
      color: #475569;
      font-size: 14px;
    }
    
    .calendar-body {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
    }
    
    .calendar-day {
      aspect-ratio: 1;
      border: 1px solid #e5e7eb;
      padding: 10px;
      position: relative;
      transition: all 0.3s;
    }
    
    .calendar-day:hover {
      background: #f8fafc;
    }
    
    .day-number {
      font-size: 14px;
      font-weight: 700;
      color: #1e293b;
      margin-bottom: 5px;
    }
    
    .day-shift {
      text-align: center;
      font-size: 24px;
      margin: 10px 0;
    }
    
    .day-label {
      font-size: 11px;
      font-weight: 600;
      text-align: center;
      padding: 4px;
      border-radius: 6px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    
    .day-code {
      font-size: 10px;
      text-align: center;
      color: #64748b;
      margin-top: 4px;
      font-weight: 600;
    }
    
    /* Shift Colors */
    .shift-morning { background: #fef3c7; color: #92400e; }
    .shift-afternoon { background: #fed7aa; color: #9a3412; }
    .shift-night { background: #ddd6fe; color: #5b21b6; }
    .shift-off { background: #f1f5f9; color: #475569; }
    .shift-leave { background: #dcfce7; color: #166534; }
    .shift-training { background: #dbeafe; color: #1e40af; }
    .shift-standby { background: #fce7f3; color: #9f1239; }
    .shift-other { background: #f3f4f6; color: #6b7280; }
    
    .calendar-day.empty {
      background: #fafafa;
    }
    
    .calendar-day.today {
      box-shadow: inset 0 0 0 2px #667eea;
    }
    
    /* Statistics */
    .statistics {
      margin-top: 30px;
      background: #f8fafc;
      padding: 25px;
      border-radius: 12px;
      border: 1px solid #e5e7eb;
    }
    
    .statistics h3 {
      color: #1e293b;
      font-size: 20px;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
    }
    
    .stat-card {
      background: white;
      padding: 20px;
      border-radius: 10px;
      border: 1px solid #e5e7eb;
      transition: all 0.3s;
    }
    
    .stat-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    
    .stat-label {
      font-size: 13px;
      color: #64748b;
      margin-bottom: 8px;
      font-weight: 600;
    }
    
    .stat-value {
      font-size: 28px;
      font-weight: 900;
      color: #1e293b;
    }
    
    .stat-icon {
      font-size: 20px;
      margin-left: 8px;
    }
    
    /* Actions */
    .actions {
      display: flex;
      gap: 15px;
      margin-top: 25px;
      flex-wrap: wrap;
    }
    
    .action-btn {
      flex: 1;
      min-width: 200px;
      padding: 15px 25px;
      border: 2px solid #e5e7eb;
      background: white;
      border-radius: 12px;
      font-size: 15px;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }
    
    .action-btn:hover {
      border-color: #667eea;
      color: #667eea;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(102,126,234,0.2);
    }
    
    .action-btn-primary {
      background: linear-gradient(135deg, #667eea, #764ba2);
      color: white;
      border-color: transparent;
    }
    
    .action-btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(102,126,234,0.3);
      border-color: transparent;
    }
    
    /* Responsive */
    @media (max-width: 768px) {
      .search-form {
        flex-direction: column;
      }
      
      .calendar-day {
        padding: 5px;
      }
      
      .day-shift {
        font-size: 18px;
        margin: 5px 0;
      }
      
      .day-label {
        font-size: 9px;
      }
      
      .employee-info {
        flex-direction: column;
        gap: 15px;
        text-align: center;
      }
      
      .month-nav {
        width: 100%;
        justify-content: center;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Header -->
    <div class="header">
      <h1>ğŸ—“ï¸ Ø¬Ø¯ÙˆÙ„ÙŠ Ø§Ù„Ø´Ø®ØµÙŠ</h1>
      <p>Ø§Ø¹Ø±Ø¶ Ù…Ù†Ø§ÙˆØ¨Ø§ØªÙƒ Ø§Ù„Ø´Ù‡Ø±ÙŠØ© Ø¨Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù‚Ù…Ùƒ Ø§Ù„ÙˆØ¸ÙŠÙÙŠ</p>
    </div>
    
    <!-- Search Box -->
    <div class="search-box">
      <form class="search-form" id="searchForm">
        <input 
          type="text" 
          class="search-input" 
          id="employeeId" 
          placeholder="Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù…Ùƒ Ø§Ù„ÙˆØ¸ÙŠÙÙŠ (Ù…Ø«Ø§Ù„: 12345)"
          pattern="[0-9]+"
          required
        >
        <button type="submit" class="search-btn">ğŸ“… Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†Ø§ÙˆØ¨Ø§Øª</button>
      </form>
    </div>
    
    <!-- Content Area -->
    <div class="content" id="contentArea">
      <div class="empty-state">
        <div class="empty-state-icon">ğŸ”</div>
        <h3>Ø§Ø¨Ø­Ø« Ø¹Ù† Ø¬Ø¯ÙˆÙ„Ùƒ</h3>
        <p>Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù…Ùƒ Ø§Ù„ÙˆØ¸ÙŠÙÙŠ Ø£Ø¹Ù„Ø§Ù‡ Ù„Ø¹Ø±Ø¶ Ù…Ù†Ø§ÙˆØ¨Ø§ØªÙƒ Ø§Ù„Ø´Ù‡Ø±ÙŠØ©</p>
      </div>
    </div>
  </div>

  <script>
    let currentData = null;
    let currentMonth = null;
    let availableMonths = [];
    
    // Submit form
    document.getElementById('searchForm').addEventListener('submit', async (e) => {
      e.preventDefault();
      const empId = document.getElementById('employeeId').value.trim();
      if (empId) {
        await loadEmployeeSchedule(empId);
      }
    });
    
    // Load employee schedule
    async function loadEmployeeSchedule(empId) {
      const contentArea = document.getElementById('contentArea');
      
      // Show loading
      contentArea.innerHTML = `
        <div class="loading">
          <div class="loading-spinner"></div>
          <p>Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...</p>
        </div>
      `;
      
      try {
        const response = await fetch(`../schedules/${empId}.json`);
        
        if (!response.ok) {
          throw new Error('Not found');
        }
        
        const data = await response.json();
        currentData = data;
        availableMonths = Object.keys(data.schedules).sort().reverse();
        
        if (availableMonths.length === 0) {
          throw new Error('No schedules');
        }
        
        // Set current month (latest available)
        currentMonth = availableMonths[0];
        
        renderSchedule();
        
      } catch (error) {
        contentArea.innerHTML = `
          <div class="empty-state">
            <div class="empty-state-icon">âŒ</div>
            <h3>Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§Øª</h3>
            <p>Ø§Ù„Ø±Ù‚Ù… Ø§Ù„ÙˆØ¸ÙŠÙÙŠ ${empId} ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯ ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù…</p>
            <p style="margin-top:10px;font-size:14px;color:#94a3b8;">ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ø±Ù‚Ù… ÙˆØ­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰</p>
          </div>
        `;
      }
    }
    
    // Render schedule
    function renderSchedule() {
      const schedule = currentData.schedules[currentMonth];
      const [year, month] = currentMonth.split('-').map(Number);
      
      // Month names
      const monthNames = [
        'ÙŠÙ†Ø§ÙŠØ±', 'ÙØ¨Ø±Ø§ÙŠØ±', 'Ù…Ø§Ø±Ø³', 'Ø£Ø¨Ø±ÙŠÙ„', 'Ù…Ø§ÙŠÙˆ', 'ÙŠÙˆÙ†ÙŠÙˆ',
        'ÙŠÙˆÙ„ÙŠÙˆ', 'Ø£ØºØ³Ø·Ø³', 'Ø³Ø¨ØªÙ…Ø¨Ø±', 'Ø£ÙƒØªÙˆØ¨Ø±', 'Ù†ÙˆÙÙ…Ø¨Ø±', 'Ø¯ÙŠØ³Ù…Ø¨Ø±'
      ];
      
      const monthName = monthNames[month - 1];
      const currentMonthIndex = availableMonths.indexOf(currentMonth);
      const hasNext = currentMonthIndex > 0;
      const hasPrev = currentMonthIndex < availableMonths.length - 1;
      
      // Build calendar
      const firstDay = new Date(year, month - 1, 1);
      const lastDay = new Date(year, month, 0);
      const startDayOfWeek = (firstDay.getDay() + 1) % 7; // Adjust for Sunday = 0
      const daysInMonth = lastDay.getDate();
      
      let calendarHTML = '';
      let dayCounter = 1;
      
      // Create 6 weeks
      for (let week = 0; week < 6; week++) {
        for (let day = 0; day < 7; day++) {
          if ((week === 0 && day < startDayOfWeek) || dayCounter > daysInMonth) {
            calendarHTML += '<div class="calendar-day empty"></div>';
          } else {
            const dayData = schedule.find(s => s.day === dayCounter);
            const isToday = isCurrentDay(year, month, dayCounter);
            
            if (dayData) {
              const shiftClass = getShiftClass(dayData.shift_group);
              calendarHTML += `
                <div class="calendar-day ${isToday ? 'today' : ''}">
                  <div class="day-number">${dayCounter}</div>
                  <div class="day-shift">${getShiftIcon(dayData.shift_group)}</div>
                  <div class="day-label ${shiftClass}">${getShiftName(dayData.shift_group)}</div>
                  <div class="day-code">${dayData.shift_code}</div>
                </div>
              `;
            } else {
              calendarHTML += `
                <div class="calendar-day ${isToday ? 'today' : ''}">
                  <div class="day-number">${dayCounter}</div>
                  <div class="day-shift">-</div>
                  <div class="day-label shift-other">-</div>
                </div>
              `;
            }
            dayCounter++;
          }
        }
        if (dayCounter > daysInMonth) break;
      }
      
      // Calculate statistics
      const stats = calculateStatistics(schedule);
      
      // Render
      document.getElementById('contentArea').innerHTML = `
        <!-- Employee Info -->
        <div class="employee-info">
          <div class="employee-details">
            <h2>${currentData.name}</h2>
            <p>ğŸ“‹ ${currentData.department} â€¢ ğŸ†” ${currentData.id}</p>
          </div>
          <div class="month-nav">
            <button onclick="changeMonth(-1)" ${!hasPrev ? 'disabled style="opacity:0.3;cursor:not-allowed"' : ''}>â†’</button>
            <span>${monthName} ${year}</span>
            <button onclick="changeMonth(1)" ${!hasNext ? 'disabled style="opacity:0.3;cursor:not-allowed"' : ''}>â†</button>
          </div>
        </div>
        
        <!-- Calendar -->
        <div class="calendar">
          <div class="calendar-header">
            <div>Ø§Ù„Ø³Ø¨Øª</div>
            <div>Ø§Ù„Ø¬Ù…Ø¹Ø©</div>
            <div>Ø§Ù„Ø®Ù…ÙŠØ³</div>
            <div>Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡</div>
            <div>Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡</div>
            <div>Ø§Ù„Ø§Ø«Ù†ÙŠÙ†</div>
            <div>Ø§Ù„Ø£Ø­Ø¯</div>
          </div>
          <div class="calendar-body">
            ${calendarHTML}
          </div>
        </div>
        
        <!-- Statistics -->
        <div class="statistics">
          <h3>ğŸ“Š Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª</h3>
          <div class="stats-grid">
            <div class="stat-card">
              <div class="stat-label">Ø£ÙŠØ§Ù… Ø§Ù„Ø¹Ù…Ù„</div>
              <div class="stat-value">${stats.workDays}</div>
            </div>
            <div class="stat-card">
              <div class="stat-label">Ø£ÙŠØ§Ù… Ø§Ù„Ø¥Ø¬Ø§Ø²Ø©</div>
              <div class="stat-value">${stats.offDays}</div>
            </div>
            <div class="stat-card">
              <div class="stat-label">Ø§Ù„ØµØ¨Ø§Ø­ÙŠØ©</div>
              <div class="stat-value">${stats.morning}</div>
            </div>
            <div class="stat-card">
              <div class="stat-label">Ø§Ù„Ù…Ø³Ø§Ø¦ÙŠØ©</div>
              <div class="stat-value">${stats.afternoon}</div>
            </div>
            <div class="stat-card">
              <div class="stat-label">Ø§Ù„Ù„ÙŠÙ„ÙŠØ©</div>
              <div class="stat-value">${stats.night}</div>
            </div>
            <div class="stat-card">
              <div class="stat-label">Ø§Ù„Ø¥Ø¬Ø§Ø²Ø§Øª Ø§Ù„Ø³Ù†ÙˆÙŠØ©</div>
              <div class="stat-value">${stats.leaves}</div>
            </div>
          </div>
        </div>
        
        <!-- Actions -->
        <div class="actions">
          <button class="action-btn action-btn-primary" onclick="downloadPDF()">
            ğŸ“¥ ØªØ­Ù…ÙŠÙ„ PDF
          </button>
          <button class="action-btn" onclick="shareSchedule()">
            ğŸ”— Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ø¬Ø¯ÙˆÙ„
          </button>
          <button class="action-btn" onclick="printSchedule()">
            ğŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø©
          </button>
        </div>
      `;
    }
    
    // Change month
    function changeMonth(direction) {
      const currentIndex = availableMonths.indexOf(currentMonth);
      const newIndex = currentIndex - direction;
      
      if (newIndex >= 0 && newIndex < availableMonths.length) {
        currentMonth = availableMonths[newIndex];
        renderSchedule();
      }
    }
    
    // Helper functions
    function getShiftIcon(group) {
      const icons = {
        'Morning': 'â˜€ï¸',
        'Afternoon': 'ğŸŒ¤ï¸',
        'Night': 'ğŸŒ™',
        'Off Day': 'ğŸ›Œ',
        'Annual Leave': 'âœˆï¸',
        'Sick Leave': 'ğŸ¤’',
        'Training': 'ğŸ“š',
        'Standby': 'ğŸ§',
        'Other': 'â“'
      };
      return icons[group] || 'â“';
    }
    
    function getShiftName(group) {
      const names = {
        'Morning': 'ØµØ¨Ø§Ø­ÙŠØ©',
        'Afternoon': 'Ù…Ø³Ø§Ø¦ÙŠØ©',
        'Night': 'Ù„ÙŠÙ„ÙŠØ©',
        'Off Day': 'Ø¥Ø¬Ø§Ø²Ø©',
        'Annual Leave': 'Ø¥Ø¬Ø§Ø²Ø© Ø³Ù†ÙˆÙŠØ©',
        'Sick Leave': 'Ø¥Ø¬Ø§Ø²Ø© Ù…Ø±Ø¶ÙŠØ©',
        'Training': 'ØªØ¯Ø±ÙŠØ¨',
        'Standby': 'Ø§Ø­ØªÙŠØ§Ø·ÙŠ',
        'Other': 'Ø£Ø®Ø±Ù‰'
      };
      return names[group] || 'Ø£Ø®Ø±Ù‰';
    }
    
    function getShiftClass(group) {
      const classes = {
        'Morning': 'shift-morning',
        'Afternoon': 'shift-afternoon',
        'Night': 'shift-night',
        'Off Day': 'shift-off',
        'Annual Leave': 'shift-leave',
        'Sick Leave': 'shift-leave',
        'Training': 'shift-training',
        'Standby': 'shift-standby',
        'Other': 'shift-other'
      };
      return classes[group] || 'shift-other';
    }
    
    function isCurrentDay(year, month, day) {
      const today = new Date();
      return today.getFullYear() === year && 
             today.getMonth() + 1 === month && 
             today.getDate() === day;
    }
    
    function calculateStatistics(schedule) {
      const stats = {
        workDays: 0,
        offDays: 0,
        morning: 0,
        afternoon: 0,
        night: 0,
        leaves: 0
      };
      
      schedule.forEach(day => {
        if (day.shift_group === 'Morning') stats.morning++;
        else if (day.shift_group === 'Afternoon') stats.afternoon++;
        else if (day.shift_group === 'Night') stats.night++;
        else if (day.shift_group === 'Off Day') stats.offDays++;
        else if (day.shift_group === 'Annual Leave' || day.shift_group === 'Sick Leave') stats.leaves++;
      });
      
      stats.workDays = stats.morning + stats.afternoon + stats.night;
      
      return stats;
    }
    
    // Action functions (placeholders)
    function downloadPDF() {
      alert('Ù‚Ø±ÙŠØ¨Ø§Ù‹: Ø³ÙŠØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¬Ø¯ÙˆÙ„ ÙƒÙ€ PDF');
    }
    
    function shareSchedule() {
      const empId = currentData.id;
      const url = `${window.location.origin}/roster-site/my-schedule/?emp=${empId}`;
      
      if (navigator.share) {
        navigator.share({
          title: 'Ø¬Ø¯ÙˆÙ„ÙŠ - Duty Roster',
          text: `Ø¬Ø¯ÙˆÙ„ Ù…Ù†Ø§ÙˆØ¨Ø§Øª ${currentData.name}`,
          url: url
        });
      } else {
        navigator.clipboard.writeText(url);
        alert('ØªÙ… Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø·! ÙŠÙ…ÙƒÙ†Ùƒ Ù…Ø´Ø§Ø±ÙƒØªÙ‡ Ø§Ù„Ø¢Ù†');
      }
    }
    
    function printSchedule() {
      window.print();
    }
    
    // Auto-load if emp parameter exists
    const urlParams = new URLSearchParams(window.location.search);
    const empParam = urlParams.get('emp');
    if (empParam) {
      document.getElementById('employeeId').value = empParam;
      loadEmployeeSchedule(empParam);
    }
  </script>
</body>
</html>
