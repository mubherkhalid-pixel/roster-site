<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="x-apple-disable-message-reformatting">
  <title>Duty Roster</title>
  <style>
    /* â•â•â•â•â•â•â• RESET â•â•â•â•â•â•â• */
    body {
      margin:0; padding:0;
      background:#eef1f7;
      font-family:'Segoe UI', system-ui, -apple-system, BlinkMacSystemFont, Roboto, Helvetica, Arial, sans-serif;
      color:#0f172a;
      -webkit-font-smoothing:antialiased;
    }
    * { box-sizing:border-box; }

    /* â•â•â•â•â•â•â• WRAP â•â•â•â•â•â•â• */
    .wrap { max-width:680px; margin:0 auto; padding:16px 14px 28px; }

    /* â•â•â•â•â•â•â• HEADER â•â•â•â•â•â•â• */
    .header {
      background:linear-gradient(135deg, #1e40af 0%, #1976d2 50%, #0ea5e9 100%);
      color:#fff;
      padding:26px 18px 24px;
      border-radius:20px;
      text-align:center;
      box-shadow:0 8px 28px rgba(30,64,175,.25);
      position:relative;
      overflow:hidden;
    }
    .header::before {
      content:''; position:absolute;
      top:-30px; right:-40px;
      width:140px; height:140px;
      border-radius:50%;
      background:rgba(255,255,255,.08);
    }
    .header::after {
      content:''; position:absolute;
      bottom:-50px; left:-30px;
      width:160px; height:160px;
      border-radius:50%;
      background:rgba(255,255,255,.06);
    }
    .header h1 { margin:0; font-size:24px; font-weight:800; position:relative; z-index:1; letter-spacing:-.3px; }

    /* Ø²Ø± Ø§Ù„Ù„ØºØ© */
    .langToggle {
      position:absolute; top:14px; left:16px; z-index:10;
      background:rgba(255,255,255,.18); border:2px solid rgba(255,255,255,.25);
      border-radius:50%; width:32px; height:32px;
      display:flex; align-items:center; justify-content:center;
      color:#fff; font-size:13px; font-weight:800; cursor:pointer;
      transition:all .25s; -webkit-tap-highlight-color:transparent; padding:0;
    }
    .langToggle:hover { background:rgba(255,255,255,.30); transform:scale(1.08); }
    body.ar { direction:rtl; font-family:'Segoe UI',Tahoma,Arial,sans-serif; }
    body.ar .langToggle { left:auto; right:16px; }
    .empRow, .empName, .empStatus { direction:ltr !important; unicode-bidi:embed; text-align:left !important; }

    /* Date Picker Wrapper */
    .datePickerWrapper {
      position:relative;
      display:inline-block;
      margin-top:14px;
      z-index:1;
    }
    .header .dateTag {
      display:inline-block;
      background:rgba(255,255,255,.18);
      padding:5px 18px;
      border-radius:10px;
      font-size:13px;
      font-weight:600;
      letter-spacing:.3px;
      cursor:pointer;
      transition:all .3s;
      border:2px solid rgba(255,255,255,.2);
      -webkit-tap-highlight-color:transparent;
      user-select:none;
      -webkit-user-select:none;
    }
    .header .dateTag:hover {
      background:rgba(255,255,255,.25);
      transform:translateY(-1px);
    }
    /* Ø§Ù„Ù€ input Ù…Ø®ÙÙŠ ØªÙ…Ø§Ù…Ø§Ù‹ - Ù„Ø§ ÙŠÙØ±Ù‰ ÙˆÙ„Ø§ ÙŠÙØ¶ØºØ· Ø¹Ù„ÙŠÙ‡ */
    #datePicker {
      position:fixed;
      top:-9999px;
      left:-9999px;
      width:1px;
      height:1px;
      opacity:0;
      pointer-events:none;
      font-size:16px;
      border:none;
    }

    /* â•â•â•â•â•â•â• SUMMARY BAR â•â•â•â•â•â•â• */
    .summaryBar { 
      display:flex; 
      justify-content:center; 
      align-items:stretch;
      gap:12px; 
      margin-top:14px;
      flex-wrap:nowrap; /* Ù…Ù†Ø¹ Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„ØµÙ Ø«Ø§Ù†ÙŠ */
    }
    .summaryChip {
      background:#fff;
      border:1px solid rgba(15,23,42,.1);
      border-radius:14px;
      padding:10px 16px; /* ØªÙ‚Ù„ÙŠÙ„ padding Ù‚Ù„ÙŠÙ„Ø§Ù‹ */
      text-align:center;
      box-shadow:0 2px 8px rgba(15,23,42,.06);
      transition:all .25s ease;
      min-width:90px; /* Ø­Ø¯ Ø£Ø¯Ù†Ù‰ Ù„Ù„Ø¹Ø±Ø¶ */
    }
    .summaryChip .chipVal { font-size:22px; font-weight:900; color:#1e40af; }
    .summaryChip .chipLabel { 
      font-size:10px; /* Ø®Ø· Ø£ØµØºØ± Ù‚Ù„ÙŠÙ„Ø§Ù‹ */
      font-weight:600; 
      color:#64748b; 
      text-transform:uppercase; 
      letter-spacing:.5px; 
      margin-top:2px;
      white-space:nowrap; /* Ù…Ù†Ø¹ Ø§Ù„ÙƒØ³Ø± */
    }

    /* â•â•â•â•â•â•â• SHIFT FILTER BUTTONS AS CHIPS â•â•â•â•â•â•â• */
    button.summaryChip.shiftFilterBtn {
      border:2px solid transparent;
      position:relative;
      overflow:hidden;
      padding:10px 14px; /* padding Ø£ØµØºØ± Ù„Ù„Ø£Ø²Ø±Ø§Ø± */
    }
    button.summaryChip.shiftFilterBtn:hover {
      transform:translateY(-3px);
      box-shadow:0 8px 20px rgba(15,23,42,.12);
    }
    button.summaryChip.shiftFilterBtn.active {
      border-color:currentColor;
      box-shadow:0 6px 16px rgba(15,23,42,.18);
    }
    button.summaryChip.shiftFilterBtn.active::before {
      content:'';
      position:absolute;
      top:0;left:0;right:0;bottom:0;
      background:currentColor;
      opacity:.06;
    }
    
    /* Ø£Ù„ÙˆØ§Ù† Ø§Ù„ÙˆØ±Ø¯ÙŠØ§Øª */
    button.shiftFilterBtn.morning {
      color:#f59e0b;
    }
    button.shiftFilterBtn.morning .chipVal { color:#f59e0b; }
    button.shiftFilterBtn.morning .chipLabel { color:#92400e; }
    
    button.shiftFilterBtn.afternoon {
      color:#f97316;
    }
    button.shiftFilterBtn.afternoon .chipVal { color:#f97316; }
    button.shiftFilterBtn.afternoon .chipLabel { color:#9a3412; }
    
    button.shiftFilterBtn.night {
      color:#8b5cf6;
    }
    button.shiftFilterBtn.night .chipVal { color:#8b5cf6; }
    button.shiftFilterBtn.night .chipLabel { color:#5b21b6; }
    
    button.shiftFilterBtn.all {
      color:#1e40af;
    }
    button.shiftFilterBtn.all .chipVal { color:#1e40af; }
    button.shiftFilterBtn.all .chipLabel { color:#1e40af; }
    
    /* Ù„Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„Ù…ØªÙˆØ³Ø·Ø© */
    @media (max-width:900px){
      .summaryBar { flex-wrap:wrap; } /* Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù„ØµÙ Ø§Ù„Ø«Ø§Ù†ÙŠ */
    }
    
    /* Ù„Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ */
    @media (max-width:600px){
      .summaryBar { gap:8px; }
      .summaryChip { padding:8px 12px; min-width:70px; }
      .summaryChip .chipVal { font-size:19px; }
      .summaryChip .chipLabel { font-size:9px; }
    }


    /* â•â•â•â•â•â•â• DEPARTMENT CARD â•â•â•â•â•â•â• */
    .deptCard {
      margin-top:18px;
      background:#fff;
      border-radius:18px;
      overflow:hidden;
      border:1px solid rgba(15,23,42,.07);
      box-shadow:0 4px 18px rgba(15,23,42,.08);
    }
    .deptHead {
      display:flex;
      align-items:center;
      gap:12px;
      padding:14px 16px;
      background:#fff;
    }
    .deptIcon {
      width:40px; height:40px;
      border-radius:12px;
      display:flex; align-items:center; justify-content:center;
      flex-shrink:0;
    }
    .deptTitle { font-size:18px; font-weight:800; color:#1e293b; flex:1; letter-spacing:-.2px; }
    .deptBadge { min-width:48px; padding:6px 10px; border-radius:12px; text-align:center; }

    /* â•â•â•â•â•â•â• SHIFT STACK â•â•â•â•â•â•â• */
    .shiftStack { padding:10px; display:flex; flex-direction:column; gap:8px; }

    /* â•â•â•â•â•â•â• SHIFT CARD â€” <details> â•â•â•â•â•â•â• */
    .shiftCard {
      border-radius:14px;
      overflow:hidden;
    }

    .shiftSummary {
      display:flex;
      align-items:center;
      gap:10px;
      padding:11px 14px;
      cursor:pointer;
      list-style:none;
      -webkit-appearance:none;
      appearance:none;
      user-select:none;
    }
    .shiftSummary::-webkit-details-marker { display:none; }
    .shiftSummary::marker              { display:none; }

    .shiftIcon  { font-size:20px; line-height:1; flex-shrink:0; }
    .shiftLabel { font-size:15px; font-weight:800; flex:1; letter-spacing:-.1px; }
    .shiftCount {
      font-size:13px; font-weight:800;
      padding:3px 10px; border-radius:20px;
      flex-shrink:0;
    }

    /* chevron ÙŠØ¯ÙˆØ± Ù„Ù…Ø§ ÙŠÙØªØ­ */
    .shiftSummary::after {
      content:'â–¾';
      font-size:14px;
      color:#94a3b8;
      transition:transform .2s;
      flex-shrink:0;
    }
    .shiftCard[open] .shiftSummary::after {
      transform:rotate(180deg);
    }

    .shiftBody { background:rgba(255,255,255,.7); }

    /* â”€â”€ employee row â”€â”€ */
    .empRow {
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding:9px 16px;
      border-top:1px solid rgba(15,23,42,.06);
    }
    .empRowAlt { background:rgba(15,23,42,.02); }
    .empName  { font-size:15px; font-weight:700; color:#1e293b; }
    .empStatus { font-size:13px; font-weight:600; }

    /* â•â•â•â•â•â•â• CTA â•â•â•â•â•â•â• */
    .btnWrap { margin-top:20px; text-align:center; }
    .btn {
      display:inline-block;
      padding:14px 38px;
      border-radius:16px;
      background:linear-gradient(135deg, #1e40af, #1976d2);
      color:#fff !important;
      text-decoration:none;
      font-weight:800;
      font-size:15px;
      box-shadow:0 6px 20px rgba(30,64,175,.3);
    }

    /* â•â•â•â•â•â•â• FOOTER â•â•â•â•â•â•â• */
    .footer { margin-top:18px; text-align:center; font-size:12px; color:#94a3b8; padding:12px 0; line-height:1.9; }
    .footer strong { color:#64748b; }

    /* â•â•â•â•â•â•â• MOBILE â•â•â•â•â•â•â• */
    @media (max-width:480px){
      .wrap            { padding:12px 10px 22px; }
      .header h1       { font-size:21px; }
      .deptTitle       { font-size:16px; }
      .empName         { font-size:14px; }
      .empStatus       { font-size:12px; }
      .shiftLabel      { font-size:14px; }
      .summaryBar      { gap:8px; }
      .summaryChip     { padding:8px 14px; }
      .summaryChip .chipVal { font-size:19px; }
    }

  </style>
</head>
<body>
<div class="wrap">

  <!-- â•â•â•â• HEADER â•â•â•â• -->
  <div class="header">
    <button class="langToggle" id="langToggle" onclick="toggleLang()">Ø¹</button>
    <h1 id="pageTitle">ğŸ“‹ Duty Roster</h1>
    <div class="datePickerWrapper">
      <button class="dateTag" id="dateTag" onclick="openDatePicker()" type="button">ğŸ“… 2 January 2026</button>
      <input id="datePicker" type="date" value="2026-01-02" min="2026-01-01" max="2026-03-31" tabindex="-1" aria-hidden="true" />
    </div>
  </div>

  <div class='deptCard' style='padding:14px;border:1px dashed rgba(15,23,42,.20);background:#fff;'>âš ï¸ Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø±ÙˆØ³ØªØ± Ù„Ù‡Ø°Ø§ Ø§Ù„Ø´Ù‡Ø± Ø¨Ø¹Ø¯.</div>

  <!-- â•â•â•â• SUMMARY CHIPS â•â•â•â• -->
  <div class="summaryBar">
    <div class="summaryChip">
      <div class="chipVal">0</div>
      <div class="chipLabel" data-key="employees">Employees</div>
    </div>
    <div class="summaryChip">
      <div class="chipVal" style="color:#059669;">0</div>
      <div class="chipLabel" data-key="departments">Departments</div>
    </div>
    
    <button class="summaryChip shiftFilterBtn morning" data-shift="Morning" style="cursor:pointer;">
      <div class="chipVal">â˜€ï¸</div>
      <div class="chipLabel">Morning</div>
    </button>
    <button class="summaryChip shiftFilterBtn afternoon" data-shift="Afternoon" style="cursor:pointer;">
      <div class="chipVal">ğŸŒ¤ï¸</div>
      <div class="chipLabel">Afternoon</div>
    </button>
    <button class="summaryChip shiftFilterBtn night" data-shift="Night" style="cursor:pointer;">
      <div class="chipVal">ğŸŒ™</div>
      <div class="chipLabel">Night</div>
    </button>
    <button class="summaryChip shiftFilterBtn all active" data-shift="All" style="cursor:pointer;">
      <div class="chipVal">ğŸ“‹</div>
      <div class="chipLabel">All Shifts</div>
    </button>
    
  </div>

  <!-- â•â•â•â• DEPARTMENT CARDS â•â•â•â• -->
  

  <!-- â•â•â•â• CTA â•â•â•â• -->
  <div class="btnWrap">
    <a class="btn" id="ctaBtn" href="https://khalidsaif912.github.io/roster-site/">ğŸ“‹ View Full Duty Roster</a>
  </div>

<div class="btnWrap">
  <a href="https://khalidsaif912.github.io/roster-site/subscribe/" class="btn" id="subscribeBtn">ğŸ“© Subscribe</a>
</div>

  <!-- â•â•â•â• FOOTER â•â•â•â• -->
  <div class="footer">
    <strong style="color:#475569;font-size:13px;">Last Updated:</strong> <strong style="color:#1e40af;">02JAN2026 / 00:00</strong>
    <br>Total: <strong>0 employees</strong>
     &nbsp;Â·&nbsp; Source: <strong>Export New Roster-February2026RAMADAN-Versio-4.xlsx</strong>
  </div>

</div>

<script>
(function(){
  var picker = document.getElementById('datePicker');
  if(!picker) return;

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // ÙØªØ­ Ø§Ù„Ù€ date picker - ÙŠØ¹Ù…Ù„ Ø¹Ù„Ù‰ Desktop + iOS + Android
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  window.openDatePicker = function() {
    picker.style.position = 'fixed';
    picker.style.top = '0';
    picker.style.left = '0';
    picker.style.opacity = '0';
    picker.style.width = '1px';
    picker.style.height = '1px';
    picker.style.pointerEvents = 'auto';

    // showPicker() - ÙŠØ¹Ù…Ù„ ÙÙŠ Chrome/Edge/Safari Ø§Ù„Ø­Ø¯ÙŠØ«
    if (typeof picker.showPicker === 'function') {
      try {
        picker.showPicker();
        return;
      } catch(e) {}
    }

    // Fallback: focus + click Ù„Ù„Ù…ØªØµÙØ­Ø§Øª Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©
    picker.focus();
    picker.click();
  };

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªØ§Ø±ÙŠØ® ÙˆØ¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ù„Ù„Ù€ today
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  function checkAndRedirectToToday() {
    var path = window.location.pathname || '/';
    var isNowPage = path.includes('/now');

    var dateMatch = path.match(/\/date\/(\d{4})-(\d{2})-(\d{2})\//);
    if (dateMatch) {
      var pageDate = dateMatch[1] + '-' + dateMatch[2] + '-' + dateMatch[3];

      var now = new Date();
      var muscatTime = new Date(now.getTime() + (4 * 60 * 60 * 1000) + (now.getTimezoneOffset() * 60 * 1000));
      var todayStr = muscatTime.getFullYear() + '-' +
        String(muscatTime.getMonth() + 1).padStart(2, '0') + '-' +
        String(muscatTime.getDate()).padStart(2, '0');

      if (pageDate !== todayStr) {
        var isPageLoad = sessionStorage.getItem('pageLoaded');
        if (isPageLoad) {
          sessionStorage.removeItem('pageLoaded');
          var basePath = path
            .replace(/\/date\/\d{4}-\d{2}-\d{2}\/.*$/, '/')
            .replace(/\/now\/.*$/, '/')
            .replace(/\/+$/, '');
          window.location.href = basePath + '/date/' + todayStr + '/' + (isNowPage ? 'now/' : '');
          return true;
        } else {
          sessionStorage.setItem('pageLoaded', 'true');
        }
      }
    }
    return false;
  }

  if (checkAndRedirectToToday()) return;

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // Ø¹Ù†Ø¯ ØªØºÙŠÙŠØ± Ø§Ù„ØªØ§Ø±ÙŠØ® â†’ Ø§Ù†ØªÙ‚Ù„ Ù„Ù„ØµÙØ­Ø© Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  picker.addEventListener('change', function() {
    if (!picker.value) return;

    sessionStorage.removeItem('pageLoaded');

    var path = window.location.pathname || '/';
    var isNowPage = path.includes('/now');
    var base = path
      .replace(/\/date\/\d{4}-\d{2}-\d{2}\/.*$/, '/')
      .replace(/\/now\/.*$/, '/')
      .replace(/\/+$/, '');

    var target = base + '/date/' + picker.value + '/';
    if (isNowPage) target += 'now/';

    window.location.href = target;
  });

})();

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Shift Filter (NOW PAGE ONLY)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
(function(){
  var filterBtns = document.querySelectorAll('.shiftFilterBtn');
  if(!filterBtns.length) return; // Not a /now/ page
  
  var allShiftCards = document.querySelectorAll('.shiftCard');
  
  // Group shift cards by shift type
  var shiftGroups = {};
  allShiftCards.forEach(function(card){
    var summary = card.querySelector('.shiftSummary');
    if(!summary) return;
    
    var label = summary.querySelector('.shiftLabel');
    if(!label) return;
    
    var shiftType = label.textContent.trim();
    if(!shiftGroups[shiftType]) shiftGroups[shiftType] = [];
    shiftGroups[shiftType].push(card);
  });
  
  // Determine current shift based on time
  function getCurrentShift(){
    var now = new Date();
    var muscatTime = new Date(now.getTime() + (4 * 60 * 60 * 1000) + (now.getTimezoneOffset() * 60 * 1000));
    var hour = muscatTime.getHours();
    var minute = muscatTime.getMinutes();
    var t = hour * 60 + minute;
    
    if(t >= 21 * 60 || t < 5 * 60) return 'Night';
    if(t >= 13 * 60) return 'Afternoon';
    return 'Morning';
  }
  
  // Set active shift on load - default to current shift
  var currentShift = getCurrentShift();
  filterBtns.forEach(function(btn){
    if(btn.dataset.shift === currentShift){
      btn.classList.add('active');
    } else {
      btn.classList.remove('active');
    }
  });
  
  // Filter function
  function filterShifts(selectedShift){
    var totalEmployees = 0;
    
    if(selectedShift === 'All'){
      // Show all shifts
      allShiftCards.forEach(function(card){
        card.style.display = '';
        var count = card.querySelector('.shiftCount');
        if(count) totalEmployees += parseInt(count.textContent) || 0;
      });
    } else {
      // Hide all cards first
      allShiftCards.forEach(function(card){ card.style.display = 'none'; });
      
      // Show only selected shift cards and count employees
      if(shiftGroups[selectedShift]){
        shiftGroups[selectedShift].forEach(function(card){
          card.style.display = '';
          // Auto-open the selected shift
          card.setAttribute('open', '');
          // Count employees in this card
          var count = card.querySelector('.shiftCount');
          if(count) totalEmployees += parseInt(count.textContent) || 0;
        });
      }
      
      // Also show Off Day, Leave, Training, Standby in all shifts
      var alwaysShow = ['Off Day', 'Annual Leave', 'Sick Leave', 'Training', 'Standby', 'Other'];
      alwaysShow.forEach(function(type){
        if(shiftGroups[type]){
          shiftGroups[type].forEach(function(card){
            card.style.display = '';
            // Count employees
            var count = card.querySelector('.shiftCount');
            if(count) totalEmployees += parseInt(count.textContent) || 0;
          });
        }
      });
    }
    
    // Update employee count in summary
    var employeeChip = document.querySelector('.summaryChip .chipVal');
    if(employeeChip){
      employeeChip.textContent = totalEmployees;
    }
    
    // Update button states
    filterBtns.forEach(function(btn){
      if(btn.dataset.shift === selectedShift){
        btn.classList.add('active');
      } else {
        btn.classList.remove('active');
      }
    });
  }
  
  // Add click handlers
  filterBtns.forEach(function(btn){
    btn.addEventListener('click', function(){
      filterShifts(this.dataset.shift);
    });
  });
  
  // Auto-filter on page load - show current shift
  filterShifts(currentShift);
})();

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Language Toggle
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
var LANG = localStorage.getItem('rosterLang') || 'en';
var T = {
  en: {
    title:'ğŸ“‹ Duty Roster', langBtn:'Ø¹',
    employees:'Employees', departments:'Departments', total:'Total',
    morning:'Morning', afternoon:'Afternoon', night:'Night',
    offday:'Off Day', annualLeave:'Annual Leave', sickLeave:'Sick Leave',
    training:'Training', standby:'Standby', other:'Other',
    from:'FROM', to:'TO',
    viewFull:'ğŸ“‹ View Full Duty Roster', subscribe:'ğŸ“© Subscribe',
    officers:'Officers', supervisors:'Supervisors', loadControl:'Load Control',
    exportChecker:'Export Checker', exportOps:'Export Operators', unassigned:'Unassigned',
    morning2:'Morning', afternoon2:'Afternoon', night2:'Night', allShifts:'All Shifts',
  },
  ar: {
    title:'ğŸ“‹ Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ù†Ø§ÙˆØ¨Ø§Øª', langBtn:'EN',
    employees:'Ø§Ù„Ù…ÙˆØ¸ÙÙˆÙ†', departments:'Ø§Ù„Ø£Ù‚Ø³Ø§Ù…', total:'Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹',
    morning:'ØµØ¨Ø§Ø­ÙŠ', afternoon:'Ù…Ø³Ø§Ø¦ÙŠ', night:'Ù„ÙŠÙ„ÙŠ',
    offday:'Ø¥Ø¬Ø§Ø²Ø©', annualLeave:'Ø¥Ø¬Ø§Ø²Ø© Ø³Ù†ÙˆÙŠØ©', sickLeave:'Ø¥Ø¬Ø§Ø²Ø© Ù…Ø±Ø¶ÙŠØ©',
    training:'ØªØ¯Ø±ÙŠØ¨', standby:'Ø§Ø­ØªÙŠØ§Ø·', other:'Ø£Ø®Ø±Ù‰',
    from:'Ù…Ù†', to:'Ø¥Ù„Ù‰',
    viewFull:'ğŸ“‹ Ø¹Ø±Ø¶ Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ù†Ø§ÙˆØ¨Ø§Øª Ø§Ù„ÙƒØ§Ù…Ù„', subscribe:'ğŸ“© Ø§Ø´ØªØ±Ø§Ùƒ',
    officers:'Ø§Ù„Ø¶Ø¨Ø§Ø·', supervisors:'Ø§Ù„Ù…Ø´Ø±ÙÙˆÙ†', loadControl:'Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø­Ù…ÙˆÙ„Ø©',
    exportChecker:'Ù…Ø¯Ù‚Ù‚ Ø§Ù„ØµØ§Ø¯Ø±Ø§Øª', exportOps:'Ù…Ø´ØºÙ„Ùˆ Ø§Ù„ØµØ§Ø¯Ø±Ø§Øª', unassigned:'ØºÙŠØ± Ù…ÙØ¹ÙŠÙÙ‘Ù†',
    morning2:'ØµØ¨Ø§Ø­ÙŠ', afternoon2:'Ù…Ø³Ø§Ø¦ÙŠ', night2:'Ù„ÙŠÙ„ÙŠ', allShifts:'Ø§Ù„ÙƒÙ„',
  }
};

function applyLang(lang) {
  var t=T[lang], isAr=lang==='ar';
  document.body.classList.toggle('ar',isAr);
  document.documentElement.setAttribute('lang',lang);
  var el=document.getElementById('pageTitle'); if(el) el.textContent=t.title;
  var btn=document.getElementById('langToggle'); if(btn) btn.textContent=t.langBtn;
  document.querySelectorAll('.chipLabel').forEach(function(el) {
    var k=el.dataset.key;
    if(k==='employees') el.textContent=t.employees;
    else if(k==='departments') el.textContent=t.departments;
    else if(k==='morning') el.textContent=t.morning2;
    else if(k==='afternoon') el.textContent=t.afternoon2;
    else if(k==='night') el.textContent=t.night2;
    else if(k==='allShifts') el.textContent=t.allShifts;
  });
  document.querySelectorAll('.deptBadge span:first-child').forEach(function(el) { el.textContent=t.total; });
  var deptMap={'Officers':t.officers,'Supervisors':t.supervisors,'Load Control':t.loadControl,
    'Export Checker':t.exportChecker,'Export Operators':t.exportOps,'Unassigned':t.unassigned};
  document.querySelectorAll('.deptTitle').forEach(function(el) {
    if(!el.dataset.key) el.dataset.key=el.textContent.trim();
    if(deptMap[el.dataset.key]) el.textContent=deptMap[el.dataset.key];
  });
  var shiftMap={'Morning':t.morning,'Afternoon':t.afternoon,'Night':t.night,
    'Off Day':t.offday,'Annual Leave':t.annualLeave,'Sick Leave':t.sickLeave,
    'Training':t.training,'Standby':t.standby,'Other':t.other};
  document.querySelectorAll('.shiftLabel').forEach(function(el) {
    if(!el.dataset.key) el.dataset.key=el.textContent.trim();
    if(shiftMap[el.dataset.key]) el.textContent=shiftMap[el.dataset.key];
  });
  document.querySelectorAll('.empStatus span').forEach(function(el) {
    var txt=el.textContent.trim();
    if(txt==='FROM'||txt==='Ù…Ù†') el.textContent=t.from;
    if(txt==='TO'||txt==='Ø¥Ù„Ù‰') el.textContent=t.to;
  });
  var c1=document.getElementById('ctaBtn'); if(c1) c1.textContent=t.viewFull;
  var c2=document.getElementById('subscribeBtn'); if(c2) c2.textContent=t.subscribe;
  var footer=document.querySelector('.footer');
  if(footer) {
    var h=footer.innerHTML;
    if(isAr) {
      h=h.replace('Last Updated','Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«'); h=h.replace('Total:','Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹:');
      h=h.replace(' employees',' Ù…ÙˆØ¸Ù'); h=h.replace('Source:','Ø§Ù„Ù…ØµØ¯Ø±:');
    } else {
      h=h.replace('Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«','Last Updated'); h=h.replace('Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹:','Total:');
      h=h.replace(' Ù…ÙˆØ¸Ù',' employees'); h=h.replace('Ø§Ù„Ù…ØµØ¯Ø±:','Source:');
    }
    footer.innerHTML=h;
  }
  localStorage.setItem('rosterLang',lang);
  LANG=lang;
}
function toggleLang() { applyLang(LANG==='en'?'ar':'en'); }
applyLang(LANG);
</script>

</body>
</html>